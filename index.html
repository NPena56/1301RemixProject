<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
    
    <title>Remix Project</title>
    <script>
      document.getElementById('myForm').addEventListener('submit', async (e) => {
          e.preventDefault();
          const text = document.getElementById('textInput').value;

          try {
              // Make a PUT request to your GitHub repository API endpoint
              const response = await fetch('https://api.github.com/repos/NPena56/1301RemixProject/contents/responses/' + generateRandomFileName() + '.txt', {
                  method: 'PUT',
                  headers: {
                      'Authorization': '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', // Replace with your GitHub access token
                      'Content-Type': 'application/json',
                  },
                  body: JSON.stringify({
                      message: 'Create file',
                      content: btoa(unescape(encodeURIComponent(text))), // Content should be base64 encoded
                  }),
              });

              // Process the response as needed
              const data = await response.json();
              console.log('Response from GitHub:', data);
          } catch (error) {
              console.error('Error:', error);
          }
      });

      function generateRandomFileName() {
          const randomString = Math.random().toString(36).substring(7); // Generate a random string
          return 'response_' + randomString; // Adjust the filename prefix as needed
      }
  </script>
    
</head>
<body>
    <div class="container">
        <h1>Remix Project Draft</h1>
        <h2>
            I wrote this with the intention of hearing perspectives from other people,<br>
            I have always been fancianted by the idea that other people live their own<br>
            lives and people have the same experiences everywhere. <br> 
            Another topic being Nepotism something that alot of people deal with,<br> 
            so I would like to hear your response here.
        </h2>

       <div>
        <form id="myForm">
            <label for="textbox">Enter text below:</label>
            <textarea id="textInput" placeholder="Enter text..." rows="8" cols="40"></textarea>
            <button type="submit">Submit</button>
        </form>
       </div>
        
    </div>
</body>
</html>
